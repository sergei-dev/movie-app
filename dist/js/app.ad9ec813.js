(function(t){function e(e){for(var n,c,r=e[0],u=e[1],s=e[2],l=0,b=[];l<r.length;l++)c=r[l],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&b.push(i[c][0]),i[c]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);p&&p(e);while(b.length)b.shift()();return a.push.apply(a,s||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],n=!0,r=1;r<o.length;r++){var u=o[r];0!==i[u]&&(n=!1)}n&&(a.splice(e--,1),t=c(c.s=o[0]))}return t}var n={},i={app:0},a=[];function c(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.m=t,c.c=n,c.d=function(t,e,o){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(o,n,function(e){return t[e]}.bind(null,n));return o},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=e,r=r.slice();for(var s=0;s<r.length;s++)e(r[s]);var p=u;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("cd49")},"018b":function(t,e,o){"use strict";o("a34e")},"0557":function(t,e,o){"use strict";o("290f")},"0c56":function(t,e,o){},"290f":function(t,e,o){},"2e7f":function(t,e,o){"use strict";o("fc15")},"5c0b":function(t,e,o){"use strict";o("9c0c")},"9c0c":function(t,e,o){},a34e:function(t,e,o){},cd49:function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("MovieList"),t.isVisible?o("Popup"):t._e()],1)},a=[],c=o("d4ec"),r=o("262e"),u=o("2caf"),s=o("9ab4"),p=o("1b40"),l=o("4bb5"),b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"list-wrap"},[o("div",{staticClass:"list"},t._l(t.movies,(function(t,e){return o("MovieItem",{key:t.id,attrs:{title:t.title,poster_path:t.poster_path,isShowBtnInfo:!0,count:t.count,overview:t.overview,id:t.id,index:e}})})),1)])},v=[],f=o("bee2"),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"item",class:{full:t.isFullScreenView}},[o("div",{staticClass:"item__inner"},[t.poster_path?o("div",{staticClass:"item__img-wrap"},[o("img",{staticClass:"item__img",attrs:{src:"https://image.tmdb.org/t/p/original"+t.poster_path,alt:""}})]):t._e(),o("div",{staticClass:"item__head"},[o("h3",{staticClass:"item__name"},[t._v(t._s(t.title))])]),o("p",{staticClass:"item__descr"},[t._v(t._s(t.overview))]),o("div",{staticClass:"item__count-wrap"},[o("button",{staticClass:"item__counter",on:{click:function(e){return t.reduceCount(t.id)}}},[t._v("-")]),o("span",{staticClass:"item__count-text"},[t._v(t._s(t.count))]),o("button",{staticClass:"item__counter",on:{click:function(e){return t.enlargeCount(t.id)}}},[t._v("+")])]),t.isShowBtnInfo?o("div",{staticClass:"item__bottom"},[o("ButtonComponent",{attrs:{text:t.buttonText},nativeOn:{click:function(e){t.openPopup(!0),t.updateData({id:t.id,index:t.index})}}})],1):t._e()])])},O=[],j=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"button"},[t._v(t._s(t.text))])},m=[],y=function(t){Object(r["a"])(o,t);var e=Object(u["a"])(o);function o(){return Object(c["a"])(this,o),e.apply(this,arguments)}return o}(p["c"]);Object(s["a"])([Object(p["b"])()],y.prototype,"text",void 0),y=Object(s["a"])([p["a"]],y);var h=y,_=h,x=(o("2e7f"),o("2877")),C=Object(x["a"])(_,j,m,!1,null,"326fe1bc",null),g=C.exports,w=Object(l["a"])("Popup"),M=Object(l["a"])("Movie"),P=function(t){Object(r["a"])(o,t);var e=Object(u["a"])(o);function o(){var t;return Object(c["a"])(this,o),t=e.apply(this,arguments),t.buttonText="Информация",t}return o}(p["c"]);Object(s["a"])([Object(p["b"])()],P.prototype,"id",void 0),Object(s["a"])([Object(p["b"])()],P.prototype,"index",void 0),Object(s["a"])([Object(p["b"])()],P.prototype,"title",void 0),Object(s["a"])([Object(p["b"])()],P.prototype,"overview",void 0),Object(s["a"])([Object(p["b"])()],P.prototype,"poster_path",void 0),Object(s["a"])([Object(p["b"])()],P.prototype,"count",void 0),Object(s["a"])([Object(p["b"])()],P.prototype,"isShowBtnInfo",void 0),Object(s["a"])([Object(p["b"])()],P.prototype,"isFullScreenView",void 0),Object(s["a"])([w.State],P.prototype,"isVisible",void 0),Object(s["a"])([w.Action],P.prototype,"openPopup",void 0),Object(s["a"])([w.Action],P.prototype,"updateData",void 0),Object(s["a"])([M.Action],P.prototype,"reduceCount",void 0),Object(s["a"])([M.Action],P.prototype,"enlargeCount",void 0),P=Object(s["a"])([Object(p["a"])({components:{ButtonComponent:g}})],P);var k=P,S=k,E=(o("018b"),Object(x["a"])(S,d,O,!1,null,"af83469c",null)),B=E.exports,D=Object(l["a"])("Movie"),I=function(t){Object(r["a"])(o,t);var e=Object(u["a"])(o);function o(){return Object(c["a"])(this,o),e.apply(this,arguments)}return Object(f["a"])(o,[{key:"mounted",value:function(){this.updateMovies()}}]),o}(p["c"]);Object(s["a"])([D.State],I.prototype,"movies",void 0),Object(s["a"])([D.Action],I.prototype,"updateMovies",void 0),I=Object(s["a"])([Object(p["a"])({components:{MovieItem:B}})],I);var V=I,A=V,T=(o("0557"),Object(x["a"])(A,b,v,!1,null,"12ba7a37",null)),$=T.exports,F=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"modal-fade"}},[o("div",{staticClass:"popup"},[o("div",{staticClass:"popup__overlay",on:{click:function(e){return t.openPopup(!1)}}}),o("div",{staticClass:"popup__content"},[o("button",{staticClass:"popup__close",on:{click:function(e){return t.openPopup(!1)}}}),o("MovieItem",{attrs:{title:this.movies[t.data.index].title,overview:this.movies[t.data.index].overview,poster_path:this.movies[t.data.index].poster_path,count:this.movies[t.data.index].count,id:this.movies[t.data.index].id,isFullScreenView:!0,isShowBtnInfo:!1}}),o("div",{staticClass:"popup__bottom"},[o("ButtonComponent",{attrs:{text:t.closeText},nativeOn:{click:function(e){return t.openPopup(!1)}}})],1)],1)])])},R=[],J=Object(l["a"])("Popup"),L=Object(l["a"])("Movie"),q=function(t){Object(r["a"])(o,t);var e=Object(u["a"])(o);function o(){var t;return Object(c["a"])(this,o),t=e.apply(this,arguments),t.closeText="close",t}return o}(p["c"]);Object(s["a"])([L.State],q.prototype,"movies",void 0),Object(s["a"])([J.State],q.prototype,"data",void 0),Object(s["a"])([J.Action],q.prototype,"openPopup",void 0),Object(s["a"])([J.Action],q.prototype,"updateData",void 0),q=Object(s["a"])([Object(p["a"])({components:{ButtonComponent:g,MovieItem:B}})],q);var z=q,G=z,H=(o("fcef"),Object(x["a"])(G,F,R,!1,null,null,null)),K=H.exports,N=Object(l["a"])("Popup"),Q=function(t){Object(r["a"])(o,t);var e=Object(u["a"])(o);function o(){return Object(c["a"])(this,o),e.apply(this,arguments)}return o}(p["c"]);Object(s["a"])([N.State],Q.prototype,"isVisible",void 0),Q=Object(s["a"])([Object(p["a"])({components:{MovieList:$,Popup:K}})],Q);var U=Q,W=U,X=(o("5c0b"),Object(x["a"])(W,i,a,!1,null,null,null)),Y=X.exports,Z=o("2f62"),tt=(o("4de4"),o("d3b7"),o("159b"),o("6fc5")),et=o("bc3a"),ot=o.n(et),nt=function(t){Object(r["a"])(o,t);var e=Object(u["a"])(o);function o(){var t;return Object(c["a"])(this,o),t=e.apply(this,arguments),t.movies=[],t}return Object(f["a"])(o,[{key:"setMovies",value:function(t){this.movies=t}},{key:"setReduce",value:function(t){this.movies.filter((function(e){e.id===t&&e.count>=1&&e.count--}))}},{key:"setEnlarge",value:function(t){this.movies.filter((function(e){e.id===t&&e.count++}))}},{key:"updateMovies",value:function(){var t=this;ot.a.get("https://api.themoviedb.org/3/movie/popular?api_key=331809dfe739c8b14228e31bcaf71859").then((function(e){var o=e.data.results;o.forEach((function(t){t["count"]=1})),t.context.commit("Movie/setMovies",o,{root:!0})})).catch((function(t){console.log(t)})).finally((function(){return console.log("finally")}))}},{key:"reduceCount",value:function(t){this.context.commit("Movie/setReduce",t,{root:!0})}},{key:"enlargeCount",value:function(t){this.context.commit("Movie/setEnlarge",t,{root:!0})}}]),o}(tt["d"]);Object(s["a"])([tt["c"]],nt.prototype,"setMovies",null),Object(s["a"])([tt["c"]],nt.prototype,"setReduce",null),Object(s["a"])([tt["c"]],nt.prototype,"setEnlarge",null),Object(s["a"])([tt["a"]],nt.prototype,"updateMovies",null),Object(s["a"])([tt["a"]],nt.prototype,"reduceCount",null),Object(s["a"])([tt["a"]],nt.prototype,"enlargeCount",null),nt=Object(s["a"])([Object(tt["b"])({namespaced:!0})],nt);var it=nt,at=function(t){Object(r["a"])(o,t);var e=Object(u["a"])(o);function o(){var t;return Object(c["a"])(this,o),t=e.apply(this,arguments),t.isVisible=!1,t}return Object(f["a"])(o,[{key:"isOpen",value:function(t){this.isVisible=t}},{key:"setData",value:function(t){this.data=t}},{key:"openPopup",value:function(t){this.context.commit("Popup/isOpen",t,{root:!0})}},{key:"updateData",value:function(t){this.context.commit("Popup/setData",t,{root:!0})}}]),o}(tt["d"]);Object(s["a"])([tt["c"]],at.prototype,"isOpen",null),Object(s["a"])([tt["c"]],at.prototype,"setData",null),Object(s["a"])([tt["a"]],at.prototype,"openPopup",null),Object(s["a"])([tt["a"]],at.prototype,"updateData",null),at=Object(s["a"])([Object(tt["b"])({namespaced:!0})],at);var ct=at;n["a"].use(Z["a"]);var rt=new Z["a"].Store({modules:{Movie:it,Popup:ct}});n["a"].config.productionTip=!1,new n["a"]({store:rt,render:function(t){return t(Y)}}).$mount("#app")},fc15:function(t,e,o){},fcef:function(t,e,o){"use strict";o("0c56")}});
//# sourceMappingURL=app.ad9ec813.js.map